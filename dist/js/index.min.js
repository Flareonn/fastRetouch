let offers=[{imagePath:"./img/offers/1/thumb.jpg",title:"Free Retouch for Adobe Photoshop",features:["Stamp - for removing local skin irregularities","Auto - automatic skin texture and tone smoothing","FS - professional retouch of skin texture and tone","Skin - enhancement of skin texture","Anti Glare - tool for removing oily shines","Tan - easy and fast sun tan function"],slider:["./img/offers/1/thumb.jpg","./img/offers/1/slider-1.jpg","./img/offers/1/slider-2.jpg"],categories:["stamp layer","anti glare","tanned skin","auto retouch","skin retouch","frequency separation"],downloadLink:"https://valgma.com/free/00-Free-Retouch.zip",id:0},{imagePath:"./img/offers/2/thumb.jpg",title:"Pro Retouch Panel for Adobe Photoshop",features:["Gauss 2 - professional retouch of skin texture and tone","Gauss 3 - function using three-frequency separation","DBC - dodge & burn method with flexible settings using curves","DBO - dodge & burn method with flexible settings using overlays","Anti Glare - tool for removing oily shines","Skin - enhancement of skin texture"],slider:["./img/offers/2/thumb.jpg","./img/offers/2/slider-1.jpg","./img/offers/2/slider-2.jpg"],categories:["dodge&burn","skin retouch","anti glare","frequency separation"],downloadLink:"https://valgma.com/free/01-Pro-Retouch.zip",id:1},{imagePath:"./img/offers/3/thumb.jpg",title:"Portrait Plugin for Adobe Photoshop",features:["FS - professional retouch of skin texture and tone","Auto - automatic skin texture and tone smoothing","Makeup - multitool that includes many functions for makeup","Teeth -quick teeth whitening with natural color set","Anti Glare - tool for removing oily shines","Tan - easy and fast sun tan function"],slider:["./img/offers/3/thumb.jpg","./img/offers/3/slider-1.jpg","./img/offers/3/slider-2.jpg"],categories:["white teeth","tanned skin","auto retouch","anti glare","makeup","frequency separation"],downloadLink:"https://valgma.com/free/02-Portrait-Plugin.zip",id:2},{imagePath:"./img/offers/4/thumb.jpg",title:"Dodge and Burn Panel for Adobe Photoshop",features:["FS - professional retouch of skin texture and tone","Auto - automatic skin texture and tone smoothing","DBC - dodge & burn method with flexible settings using curves","DBO - dodge & burn method with flexible settings using overlays","Anti Glare - tool for removing oily shines","Tan - easy and fast sun tan function"],slider:["./img/offers/4/thumb.jpg","./img/offers/4/slider-1.jpg","./img/offers/4/slider-2.jpg"],categories:["Tanned Skin","Auto retouch","Anti Glare","Dodge&Burn","Frequency separation"],downloadLink:"https://valgma.com/free/03-Dodge-and-Burn.zip",id:3},{imagePath:"./img/offers/5/thumb.jpg",title:"Beauty Retouch Panel for Adobe Photoshop",features:["FS - professional retouch of skin texture and tone","Auto - automatic skin texture and tone smoothing","Makeup - multitool that includes many functions for makeup","Skin - enhancement of skin texture","Anti Glare - tool for removing oily shines","Tan - easy and fast sun tan function"],slider:["./img/offers/5/thumb.jpg","./img/offers/5/slider-1.jpg","./img/offers/5/slider-2.jpg"],categories:["Makeup","Tanned Skin","Auto retouch","Anti Glare","Frequency separation","Skin retouch"],downloadLink:"https://valgma.com/free/04-Beauty-Retouch.zip",id:4},{imagePath:"./img/offers/6/thumb.jpg",title:"Skin Retouch Panel for Adobe Photoshop",features:["Gauss 2 - professional retouch of skin texture and tone","Gauss 3 - function using three-frequency separation","DBC - dodge & burn method with flexible settings using curves","Skin - enhancement of skin texture","Anti Glare - tool for removing oily shines","Tan - easy and fast sun tan function"],slider:["./img/offers/6/thumb.jpg","./img/offers/6/slider-1.jpg","./img/offers/6/slider-2.jpg"],categories:["Tanned Skin","Anti Glare","Frequency separation","Dodge&Burn","Skin retouch"],downloadLink:"https://valgma.com/free/05-Skin-Retouch.zip",id:5},{imagePath:"./img/offers/7/thumb.jpg",title:"Portrait Editing Panel for Adobe Photoshop",features:["FS - professional retouch of skin texture and tone","Auto - automatic skin texture and tone smoothing","DBC - dodge & burn method with flexible settings using curves","Skin - enhancement of skin texture","Lips - lips color correction with flexible settings","Eyelids - eyelids color correction with flexible settings"],slider:["./img/offers/7/thumb.jpg","./img/offers/7/slider-1.jpg","./img/offers/7/slider-2.jpg"],categories:["Lips Color","Eyelids Color","Auto retouch","Frequency separation","Dodge&Burn","Skin retouch"],downloadLink:"https://valgma.com/free/06-Portrait-Editing.zip",id:6},{imagePath:"./img/offers/8/thumb.jpg",title:"Portrait Pro Panel for Adobe Photoshop",features:["FS - professional retouch of skin texture and tone","DBC - dodge & burn method with flexible settings using curves","Makeup - multitool that includes many functions for makeup","Skin - enhancement of skin texture","Anti Glare - tool for removing oily shines","Tan - easy and fast sun tan function"],slider:["./img/offers/8/thumb.jpg","./img/offers/8/slider-1.jpg","./img/offers/8/slider-2.jpg"],categories:["Makeup","Frequency separation","Dodge&Burn","Skin retouch","Tanned Skin","Anti Glare"],downloadLink:"https://valgma.com/free/07-Portrait-Pro.zip",id:7},{imagePath:"./img/offers/9/thumb.jpg",title:"Retouch Panel for Adobe Photoshop",features:["Stamp - for removing local skin irregularities","Auto - automatic skin texture and tone smoothing","Gauss 2 - professional retouch of skin texture and tone","Gauss 3 - function using three-frequency separation","DBC - dodge & burn method with flexible settings using curves","Skin - enhancement of skin texture"],slider:["./img/offers/9/thumb.jpg","./img/offers/9/slider-1.jpg","./img/offers/9/slider-2.jpg"],categories:["Frequency separation","Stamp Layer","Dodge&Burn","Skin retouch","Auto retouch"],downloadLink:"https://valgma.com/free/08-Retouch-for-Adobe-Photoshop.zip",id:8},{imagePath:"./img/offers/10/thumb.jpg",title:"Skin Smoothing Panel for Adobe Photoshop",features:["FS - professional retouch of skin texture and tone","Auto - automatic skin texture and tone smoothing","DBC - dodge & burn method with flexible settings using curves","Skin - enhancement of skin texture","Anti Glare - tool for removing oily shines","Tan - easy and fast sun tan function"],slider:["./img/offers/10/thumb.jpg","./img/offers/10/slider-1.jpg","./img/offers/10/slider-2.jpg"],categories:["Frequency separation","Dodge&Burn","Skin retouch","Tanned Skin","Auto retouch","Anti Glare"],downloadLink:"https://valgma.com/free/09-Skin-Smoothing.zip",id:9},{imagePath:"./img/offers/11/thumb.jpg",title:"Image Retouch Panel for Adobe Photoshop",features:["FS - professional retouch of skin texture and tone","Auto - automatic skin texture and tone smoothing","Tan - easy and fast sun tan function","Skin - enhancement of skin texture","Contrast - adding contrast with flexible settings","Matte - matting images with flexible settings"],slider:["./img/offers/11/thumb.jpg","./img/offers/11/slider-1.jpg","./img/offers/11/slider-2.jpg"],categories:["Frequency separation","Skin retouch","Tanned Skin","Auto retouch","Useful functions"],downloadLink:"https://valgma.com/free/10-Image-Retouch.zip",id:10}];class TemplateCard{constructor({imagePath:e,title:t,slider:i,features:o,downloadLink:n,id:s,categories:a}){this.imagePath=e,this.title=t,this.slider=i,this.features=o,this.downloadLink=n,this.id=s,this.categories=a,this._createElement()}_createElement(){const e=this.imagePath.slice(0,-4);this.elementHTML=`\n      <div class="catalog-card" data-id=${this.id}>\n        <picture>\n          <source srcset="${e+"-m.webp"}" type="image/webp">\n          <img src="${e+"-m.jpg"}" alt="${this.title}" class="catalog-card__image">\n        </picture>\n        <h3 class="catalog-card__title">${this.title}</h3>\n      </div>    \n    `}_createPopup(){this.title=this.title.split(/for/).join("<br/>For"),this.popup=`<div class="catalog-popup" id="activePopup">\n    <div class="catalog-popup__slider">\n      <div\n        style="\n          --swiper-navigation-color: #2e464a;\n          --swiper-pagination-color: #2e464a;\n        "\n        class="swiper-container mySwiper"\n      >\n        <div class="swiper-wrapper">\n          ${this.slider.map(e=>`<div class="swiper-slide">\n                  <img src=${e} alt="slider item">\n              </div>`).join("")}\n        </div>\n        <div class="swiper-button-next"></div>\n        <div class="swiper-button-prev"></div>\n      </div>\n    </div>\n    <div class="catalog-popup__content">\n      <div class="catalog-popup__back">\n        <div class="catalog-popup__back_circle">\n          <svg\n            class="svgCloser"\n            width="23px"\n            height="23px"\n            viewBox="0 0 23 23"\n            version="1.1"\n            xmlns="http://www.w3.org/2000/svg"\n            xmlns:xlink="http://www.w3.org/1999/xlink"\n          >\n            <g\n              stroke="none"\n              stroke-width="1"\n              fill="#2e464a"\n              fill-rule="evenodd"\n            >\n              <rect\n                transform="translate(11.313708, 11.313708) rotate(-45.000000) translate(-11.313708, -11.313708) "\n                x="10.3137085"\n                y="-3.6862915"\n                width="2"\n                height="30"\n              ></rect>\n              <rect\n                transform="translate(11.313708, 11.313708) rotate(-315.000000) translate(-11.313708, -11.313708) "\n                x="10.3137085"\n                y="-3.6862915"\n                width="2"\n                height="30"\n              ></rect>\n            </g>\n          </svg>\n        </div>\n      </div>\n      <h2 class="catalog-popup__title">${this.title}</h2>\n      <strong>Functions</strong>\n      <ul class="catalog-popup__list">\n      ${this.features.map(e=>`<li class="catalog-popup__list-item">${e}</li>`).join("")}\n      </ul>\n      <div class="catalog-popup__group">\n        <button class="catalog-popup__link catalog-popup__link_back">back</button>\n        <a href="${this.downloadLink}" class="catalog-popup__link">\n          download\n        </a>\n      </div>\n    </div>\n    </div>`,catalog.innerHTML+=this.popup,this.swiper=new Swiper(".mySwiper",{spaceBetween:10,centeredSlides:!0,loop:!0,freeMode:!0,observer:!0,observeParents:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),activePopup.querySelector(".catalog-popup__slider").style.width=this.swiper.width+"px"}_closerPopup(e){(["catalog-popup__back","catalog-popup__back_circle","svgCloser","catalog-popup__link catalog-popup__link_back"].includes(e.target.classList.value)||"rect"===e.target.tagName)&&(activePopup.removeEventListener("click",this._closerPopup),window.removeEventListener("resize",this._handleSlider),catalog.removeChild(catalog.querySelector(".catalog-popup")),document.querySelector("body").classList.toggle("lock"))}_handleSlider(e){let t=e.target.innerWidth;t>992&&(t=t/100*55),activePopup.querySelector(".catalog-popup__slider").style.width=t+"px"}openPopup(){this._createPopup(),document.querySelector("body").classList.toggle("lock"),activePopup.addEventListener("click",this._closerPopup),window.addEventListener("resize",this._handleSlider)}}let cards=[];offers.forEach(e=>{e.categories=e.categories.map(e=>e.toLowerCase()),window.innerWidth<576&&(e.title=e.title.split(/Photoshop/).join("<br>Photoshop"));let t=new TemplateCard(e);catalog.innerHTML+=t.elementHTML,cards.push(t)}),catalogFilter.addEventListener("click",(function({target:e}){e.closest(".catalog-filter__list-item")&&(Array.from(this.children).forEach(e=>e.classList.remove("active")),e.classList.add("active"),catalog.innerHTML="",cards.filter(t=>{("all"===e.dataset.cat||t.categories.includes(e.dataset.cat))&&(catalog.innerHTML+=t.elementHTML)}),fixImage(),document.querySelector(".catalog").scrollIntoView({behavior:"smooth"}))})),catalog.addEventListener("click",({target:e})=>{e.closest(".catalog-card")&&cards.find(t=>t.id===Number(e.closest(".catalog-card").dataset.id)).openPopup()}),Array.from(document.querySelectorAll(".features-list__item")).forEach(e=>{e.addEventListener("click",(function(){this.classList.toggle("active");let e=this.querySelector("ul");e.style.maxHeight?e.style.maxHeight=null:e.style.maxHeight=e.scrollHeight+"px"}))}),videoContent.addEventListener("click",()=>document.querySelector(".videos-about__content").classList.toggle("active"));const fixImage=()=>{catalog.querySelectorAll(".catalog-card > picture img").forEach(e=>{new Promise(t=>{e.onerror=()=>t(e),e.classList.contains("error")&&t(e)}).then(stylingImage)})},stylingImage=e=>{e.closest("picture").style.height="calc(100% - "+e.closest("picture").nextElementSibling.offsetHeight+"px )",e.style.height="100%",e.classList.add("error")};fixImage(),window.addEventListener("resize",fixImage);